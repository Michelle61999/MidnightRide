<html>
  <head>
    <style>
    </style>
    <script src="https://bsdillon.github.io/cs200_Spring2020/GoldField/goldfield.js"> </script>
      <script>
      
        var m
        var goldfield
        var h
        var g
        
        function villain()
        {
          goldfield = new GoldField(document.getElementById("labyrinth"),30, 20, 15);
          h = goldfield.AddHero()
          h.SetPosition(1,1)
          g = goldfield.AddGold()
          g.SetPosition(17,13)
          m = goldfield.AddMonster()
          m.SetPosition(10,10)
        }
        
        function Key(event)
      {
        document.getElementById("output").innerHTML = "Key: "+event;
      
        var deltaX = 0;
        var deltaY = 0;
        if(event[0]==37)
        {
          deltaX = -1;
        }
        else if(event[0]==38)
        {
          deltaY = -1;
        }
        else if(event[0]==39)
        {
          deltaX = 1;
        }
        else if(event[0]==40)
        {
          deltaY = 1;
        }
        if(hero != null)
        {
           var dim = field.GetDimensions();
           var loc = hero.GetPosition();
           if(!(loc[0] + deltaX < 0 || loc[0] + deltaX == dim[0]))
           {
             loc[0] = loc[0]+deltaX;
           }

           if(!(loc[1] + deltaY < 0 || loc[1] + deltaY == dim[1]))
           {
             loc[1] = loc[1]+deltaY;
           }

           var nextSpace = field.LookAt(loc[0],loc[1]);
           if(nextSpace[0]==Empty)
           {
             hero.SetPosition(loc[0],loc[1]);
           }
        }
      }

      </script>
   </head>
    <body onload="villain()">
      <p id="labyrinth">
      </p>
    </body>
</html>
